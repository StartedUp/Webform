<!DOCTYPE html>
<html lang="en">
<head>
	<title>CandidateForm</title>

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

	<!-- Latest compiled JavaScript -->
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	
	<script type="text/javascript" src="loader.js"></script>
	<script type="text/javascript" src="piechart.js"></script>
	<script type="text/javascript" src="preview.js"></script>
	<script src="http://mrrio.github.io/jsPDF/dist/jspdf.debug.js"></script>
	<script type="text/javascript">
	function preview(element) {
		if (element.files && element.files[0]) {
			var reader = new FileReader();
			reader.onload = imageIsLoaded;
			reader.readAsDataURL(element.files[0]);
		}
	};
	function imageIsLoaded(e) {
		$("#myImg").attr('src', e.target.result);
	};
	function path(item) {
		document.getElementById(item.id+"Path").value = document.getElementById(item.id).value.substring(12);		
	};
	function assignValue(item){
		var val = item.value;
		if (item.id.startsWith("pos")||item.id.startsWith("conc")||item.id.startsWith("comment")) {
			$(item).parent().children(':first-child').html(val);
		}else{
			var text = item.id+": "+val;
			$(item).parent().children(':first-child').html(text);
		}
	};
	function assignValueOuterParent(item){
		var val = item.value;
		if (item.id.startsWith("pos")||item.id.startsWith("conc")||item.id.startsWith("comment")) {
			$(item).parent().children(':first-child').html(val);
		}else{
			var text = item.id+": "+val;
			$(item).parent().parent().children(':first-child').html(text);
		}
	};
	$(document).ready(function(){
		$('#back').click(function(){
			$("[name='previewData']").hide();
			$("[name='formData']").show();
		});
		var doc = new jsPDF();
		var specialElementHandlers = {
			'#editor': function (element, renderer) {
				return true;
			}
		};

		$('#save').click(function () {
			doc.fromHTML($('#body').html(), 15, 15, {
				'width': 170,
				'elementHandlers': specialElementHandlers
			});
			doc.save('sample-file.pdf');
		});
		/*$('#linkedin').onchange(function () {
			
		});*/
	});
	</script>
	<style type="text/css">
	[name='previewData']{
		display: none;
	}
	</style>
</head>
<body id='body'>
	<div class="container">
		<div class="row" id ="header">
			<div class="col-sm-3"><img src="Logo.png"  height="100" width="150"></div>
			<div class="col-sm-3 text-center"><h3>CANDIDATE SCORECARD</h3></div>
			<div class="col-sm-4">
				<h3 name='previewData'></h3>
				<br>
				<br>
				<input class="form-control" id="Name" type="text" placeholder="Enter name" onchange='assignValue(this)' name='formData'>
			</div>
			<div class="col-sm-2">
				<input type="image" id="myImg" src="upload.png" class="img-rounded" alt="upload" width="100" height="100" onclick = "$('#uploadImg').click()">
				<input id='uploadImg' type='file' style ="display:none;" onchange="preview(this)" accept="image/*"/>
			</div>
		</div>
		<br>
		<div id ="section-1" class='row'>
			<div class="col-xs-3" id ="mobile">
				<h3 name='previewData'></h3>
				<input class="form-control" id="Mobile" type="number" placeholder="Enter mobile" name='formData' onchange='assignValue(this)'>
			</div>
			<div class="col-xs-3" id ="email">
				<h3 name='previewData'></h3>
				<input class="form-control" id="Email" type="email" placeholder="Enter email" name='formData' onchange='assignValue(this)'>
			</div>
			<div class="col-xs-3" id ="job">
				<h3 name='previewData'></h3>
				<input class="form-control" id="JobTitle" type="text" placeholder="Enter job title" name='formData' onchange='assignValue(this)'>
			</div>
			<div class="col-xs-3" id ="location">
				<h3 name='previewData'></h3>
				<input class="form-control" id="Location" type="text" placeholder="Enter location" name='formData' onchange='assignValue(this)'>
			</div>
		</div>
		<br><br>	
		<div id='section-2' class='row'>
			<form role="form">
				<div class="col-sm-4 alert alert-success" id ="job">
					<!-- <p name='previewData'></p> -->
					<label class="checkbox-inline" name=''>
						<input id='Schedule_Interview' type="checkbox">Schedule Interview
					</label>
				</div>
				<div class="col-sm-4 alert alert-warning" id ="job">
					<!-- <p name='previewData'></p> -->
					<label class="checkbox-inline" name=''>
						<input id='Present_again_in_30_days' type="checkbox">Present again in 30 days
					</label>
				</div>
				<div class="col-sm-4 alert alert-danger" id ="job">
					<!-- <p name='previewData'></p> -->
					<label class="checkbox-inline" name=''>
						<input id='Not_Interested' type="checkbox" >Not Interested
					</label>
				</div>
			</form>
		</div>
		<br>
		<div id ='section-3' class='row'>
			<div class='col-sm-2 col-sm-offset-3'><label for="inputPassword">CANDIDATE SCORE</label></div>
			<div class="form-group col-sm-1">
				<input class="form-control text-center" id="percentage" type="text" disabled value="%">
			</div>
			<div class="form-group col-sm-2">
				<input class="form-control text-center" id="score" type="text" disabled value=" /10" text-a>
			</div>
			<div class="col-sm-9">
				<div id="piechart" style="width: 540px; height: 300px;">
				</div>
			</div>
			<div class="col-sm-3">
				<br name='formData'><br name='formData'>
				<div class="form-group">
					<p class='alert alert-info' name='previewData'></p>
					<select class="form-control" id="Location_Score" name='formData' onchange='assignValue(this)'>
						<option value='0'> location score</option>
						<option data-toggle="tooltip" title="Hooray!">0</option>
						<option data-toggle="tooltip" title="Hooray!">0.5</option>
						<option data-toggle="tooltip" title="Hooray!">1</option>
						<option data-toggle="tooltip" title="Hooray!">1.5</option>
						<option data-toggle="tooltip" title="Hooray!">2</option>
					</select>
				</div>
				<div class="form-group">
					<p class='alert alert-info' name='previewData'></p>
					<select class="form-control" id="Salary_Score" name='formData' onchange='assignValue(this)'>
						<option value=0>salary score</option>
						<option data-toggle="tooltip" title="Hooray!">0</option>
						<option data-toggle="tooltip" title="Hooray!">0.5</option>
						<option data-toggle="tooltip" title="Hooray!">1</option>
						<option data-toggle="tooltip" title="Hooray!">1.5</option>
						<option data-toggle="tooltip" title="Hooray!">2</option>
					</select>
				</div>
				<div class="form-group">
					<p class='alert alert-info' name='previewData'></p>
					<select class="form-control" id="TEC_Experience_Score" name='formData' onchange='assignValue(this)'>
						<option value=0>tech-exp score</option>
						<option data-toggle="tooltip" title="Hooray!">0</option>
						<option data-toggle="tooltip" title="Hooray!">0.5</option>
						<option data-toggle="tooltip" title="Hooray!">1</option>
						<option data-toggle="tooltip" title="Hooray!">1.5</option>
						<option data-toggle="tooltip" title="Hooray!">2</option>
					</select>
				</div>
				<div class="form-group">
					<p class='alert alert-info' name='previewData'></p>
					<select class="form-control" id="PJT_Experience_Score" name='formData' onchange='assignValue(this)'>
						<option  value=0>project-exp score</option>
						<option data-toggle="tooltip" title="Hooray!">0</option>
						<option data-toggle="tooltip" title="Hooray!">0.5</option>
						<option data-toggle="tooltip" title="Hooray!">1</option>
						<option data-toggle="tooltip" title="Hooray!">1.5</option>
						<option data-toggle="tooltip" title="Hooray!">2</option>
					</select>
				</div>
				<div class="form-group">
					<p class='alert alert-info' name='previewData'></p>
					<select class="form-control" id="Work_History_Score" name='formData' onchange='assignValue(this)'>
						<option  value=0>Work History score</option>
						<option data-toggle="tooltip" title="Hooray!">0</option>
						<option data-toggle="tooltip" title="Hooray!">0.5</option>
						<option data-toggle="tooltip" title="Hooray!">1</option>
						<option data-toggle="tooltip" title="Hooray!">1.5</option>
						<option data-toggle="tooltip" title="Hooray!">2</option>
					</select>
				</div>
				<button type="button" class="btn btn-success" onclick='drawChart()'>submitScores</button>
			</div>
			<div class='col-sm-1 col-sm-offset-4'>
				
			</div>
		</div>
		<br>
		<div id='section-4 class='row''>
			<div class="form-group col-sm-4">
				<label for="usr">Positives:</label>
				<div class='row'>
					<div class='col-sm-1 glyphicon glyphicon-hand-right'></div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="pos1" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
				<div class='row'>
					<div class='col-sm-1 glyphicon glyphicon-hand-right'></div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="pos2" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
				<div class='row'>
					<div class='col-sm-1 glyphicon glyphicon-hand-right'></div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="pos3" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
				<label for="usr">Concerns:</label>
				<div class='row'>
					<div class='col-sm-1 glyphicon glyphicon-hand-right'></div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="conc1" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
				<div class='row'>
					<div class='col-sm-1 glyphicon glyphicon-hand-right'></div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="conc2" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
				<div class='row'>
					<div class='col-sm-1 glyphicon glyphicon-hand-right'></div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="conc3" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
			</div>
			<div class="form-group col-sm-4">
				<label for="comment">Candidate Description:</label>
				<p id="commentText" name='previewData'></p>
				<textarea class="form-control" rows="11" id="comment" name='formData' onchange='$("#commentText").html(this.value)'></textarea>
			</div>
			<div class="col-sm-4">
					<br><br>
					<a class='well well-sm' id='resumeHref' name='previewData' href="">Resume</a>
					<input name='formData' type="text" class="form-control" id="resumePath" placeholder="Choose Resume" onclick='$("#resume").click()'>
					<input id="resume" type="file" style="display:none;" onchange="$('#resumeHref').val(this.value);$('#resumePath').val(this.value);" accept=".pdf,.doc,.docx"/>
					<br><br>
				
					<a class='well well-sm' id='videoHref' name='previewData' href="">Video</a>
					<input name='formData'  type="text" class="form-control" id="videoPath" placeholder="Choose File" onclick='$("#video").click()'>
					<input id="video" type="file" style="display:none;" onchange="$('#videoHref').val(this.value);$('#videoPath').val(this.value);$('#videoHref').val(this.value);" accept="video/*" />
					<br><br>
				
					<a class='well well-sm' id='inHref' name='previewData' href="">linkedin</a>
					<input name='formData' type="text" class="form-control" id="linkedinPath" placeholder="Enter url" onclick='$("#linkedin").click()' >
					<input id="linkedin" type="url" onchange="$('#inHref').val(this.value);$('#linkedinPath').val(this.value);" style="display:none;" />
					<br>
				
			</div>
		</div> 
	</div>
	<div style="text-align:center">
		<button type="button" name='formData' class="btn btn-success" onclick='previewForm()'>Preview & savePdf</button>
	</div>
	<div style="text-align:center" name='previewData'>
		<button id='save' type="button" class="btn btn-success">SaveAsPdf</button>
		<button type="button" class="btn btn-success" id="back" >back</button>
	</div>
	<div id="editor"></div>
</body>
</html>