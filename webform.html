<!DOCTYPE html>
<html lang="en">
<head>
	<title>CandidateForm</title>

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

	<!-- Latest compiled JavaScript -->
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="preview.js"></script>
	<script type="text/javascript" src="loader.js"></script>
	<script type="text/javascript" src="piechart.js"></script>
	<script type="text/javascript">
	function preview(element) {
		if (element.files && element.files[0]) {
			var reader = new FileReader();
			reader.onload = imageIsLoaded;
			reader.readAsDataURL(element.files[0]);
		}
	};
	function imageIsLoaded(e) {
		$("#myImg").attr('src', e.target.result);
		$("#myImg").val("1");
	};
	function path(item) {
		document.getElementById(item.id+"Path").value = document.getElementById(item.id).value.substring(12);		
	};
	function assignValue(item){
		var val = item.value;
		if (item.id.startsWith("pos")||item.id.startsWith("conc")||item.id.startsWith("comment")) {
			$(item).parent().children(':first-child').html(val);
		}else{
			var text = item.id+": "+val;
			$(item).parent().children(':first-child').html(text);
			localStorage.setItem(item.id, val);
		}
	};
	function assignValueOuterParent(item){
		var val = item.value;
		if (item.id.startsWith("pos")||item.id.startsWith("conc")||item.id.startsWith("comment")) {
			$(item).parent().children(':first-child').html(val);
		}else{
			var text = item.id+": "+val;
			$(item).parent().parent().children(':first-child').html(text);
		}
	};
	/*$(document).ready(function(){
		$('#back').click(function(){
			$("[name='previewData']").hide();
			$("[name='formData']").show();
			$('#myImg').show();
		});
		$('#save').click(function () {
			$('#back').click();
			$('#Note').show();
			$('#section-2').show();
			var doc = new jsPDF('p', 'pt', 'a4');
			var source = $("#body")[0];
			var specialElementHandlers = {
				'#editor': function (element, renderer) {
					return true;
				}
			};
			margins = {
				top: 5,
				bottom: 6,
				left: 5,
				width: 170
			};

			doc.fromHTML(source, 15, 15,{
				'width': 500,
				'elementHandlers': specialElementHandlers
			},
			function (dispose) {
				doc.save('sample-file.pdf');
			},margins);
		});
	});*/
	</script>
	<style type="text/css">
	[name='previewData']{
		display: none;
	}
	.footer {
		background-color: #f5f5f5;
	}
	.text-muted {
		color: #777;
		bottom: 0;
	}
	</style>
</head>
<body id='body'>
	<div class="container">
		<div class='row'><div class="col-sm-12 text-center"><h3>CANDIDATE SCORECARD</h3></div></div>
		<div class="row" style="height: 110px;" id ="header">
			<div class="col-sm-3"><img src="logo.jpg"  height="59" width="204"></div>
			<div class="col-sm-1"><br></div>
			<div class="col-sm-4">
				<h3 name='previewData'></h3>
				<br>
				<input class="form-control" id="Name" type="text" placeholder="Enter name" onchange='assignValue(this)' name='formData'>
			</div>
			<div class="col-sm-4 text-center">
				<input type="image" id="myImg" src="upload.png" class="img-rounded" alt="upload" width="100" height="100" onclick = "$('#uploadImg').click()">
				<input id='uploadImg' type='file' style ="display:none;" onchange="preview(this)" accept="image/*"/>
			</div>
		</div>
		<br>
		<div id ="section-1" class='row' style="height: 50px;">
			<div class="col-xs-3">
				<div class="alert alert-success text-center" id ="mobile" name='previewData' style="height: 50px;"></div>
				<input class="form-control" id="Mobile" type="number" placeholder="Enter mobile" name='formData' onchange="$('#mobile').html(this.value)">
			</div>
			<div class="col-xs-3">
				<div class="alert alert-success text-center" id ="email" name='previewData' style="height: 50px;"></div>
				<input class="form-control" id="Email" type="email" placeholder="Enter email" name='formData' onchange="$('#email').html(this.value)">
			</div>
			<div class="col-xs-3">
				<div class="alert alert-success text-center" name='previewData' id='job' style="height: 50px;"></div>
				<input class="form-control" id="JobTitle" type="text" placeholder="Enter job title" name='formData' onchange="$('#job').html(this.value)">
			</div>
			<div class="col-xs-3">
				<div class="alert alert-success text-center" name='previewData' id ="location" style="height: 50px;"></div>
				<input class="form-control" id="Loc" type="text" placeholder="Enter location" name='formData' onchange="$('#location').html(this.value)">
			</div>
		</div>
		<br><br>
		<div id ='section-3' class='row'>
			<div class='col-sm-2 col-sm-offset-3'><label for="inputPassword">CANDIDATE SCORE</label></div>
			<div class="form-group col-sm-2">
				<input class="form-control text-center" id="percentage" type="text" disabled value="%">
			</div>
			<div class="form-group col-sm-2">
				<input class="form-control text-center" id="score" type="text" disabled value=" /10" text-a>
			</div>
			<div class="col-sm-9">
				<div id="piechart" style="width: 540px; height: 300px;">
				</div>
			</div>
			<div class="col-sm-3">
				<br name='formData'><br name='formData'>
				<div class="form-group">
					<p class='alert alert-success' name='previewData'></p>
					<select class="form-control" id="Location" name='formData' onchange='assignValue(this)'>
						<option value=0> Location</option>
						<option data-toggle="tooltip" title="Hooray!">0</option>

						<option data-toggle="tooltip" title="Hooray!">1</option>

						<option data-toggle="tooltip" title="Hooray!">2</option>
					</select>
				</div>
				<div class="form-group">
					<p class='alert alert-success' name='previewData'></p>
					<select class="form-control" id="Salary" name='formData' onchange='assignValue(this)'>
						<option value=0>Salary</option>
						<option data-toggle="tooltip" title="Hooray!">0</option>

						<option data-toggle="tooltip" title="Hooray!">1</option>

						<option data-toggle="tooltip" title="Hooray!">2</option>
					</select>
				</div>
				<div class="form-group">
					<p class='alert alert-success' name='previewData'></p>
					<select class="form-control" id="Technical Experience" name='formData' onchange='assignValue(this)'>
						<option value=0>Technical Experience</option>
						<option data-toggle="tooltip" title="Hooray!">0</option>

						<option data-toggle="tooltip" title="Hooray!">1</option>

						<option data-toggle="tooltip" title="Hooray!">2</option>
					</select>
				</div>
				<div class="form-group">
					<p class='alert alert-success' name='previewData'></p>
					<select class="form-control" id="Project Experience" name='formData' onchange='assignValue(this)'>
						<option value=0 >Project Experience</option>
						<option data-toggle="tooltip" title="Hooray!">0</option>

						<option data-toggle="tooltip" title="Hooray!">1</option>

						<option data-toggle="tooltip" title="Hooray!">2</option>
					</select>
				</div>
				<div class="form-group">
					<p class='alert alert-success' name='previewData'></p>
					<select class="form-control" id="Stable Work History" name='formData' onchange='assignValue(this)'>
						<option  value=0>Stable Work History</option>
						<option data-toggle="tooltip" title="Hooray!">0</option>

						<option data-toggle="tooltip" title="Hooray!">1</option>

						<option data-toggle="tooltip" title="Hooray!">2</option>
					</select>
				</div>
				<button name='formData' id='submit' type="button" class="btn btn-success" onclick='drawChart()'>Submit Scores</button>
			</div>
			<div class='col-sm-1 col-sm-offset-4'>

			</div>
		</div>
		<br>
		<div id='section-4' class='row'>
			<div class="form-group col-sm-4">
				<label for="usr">Positives:</label>
				<div class='row'>
					<div class='col-sm-1 '>1.</div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="pos1" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
				<div class='row'>
					<div class='col-sm-1 '>2.</div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="pos2" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
				<div class='row'>
					<div class='col-sm-1 '>3.</div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="pos3" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
				<label for="usr">Concerns:</label>
				<div class='row'>
					<div class='col-sm-1 '>1.</div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="conc1" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
				<div class='row'>
					<div class='col-sm-1 '>2.</div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="conc2" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
				<div class='row'>
					<div class='col-sm-1 '>3.</div>
					<div class='col-sm-10'>
						<p name='previewData'></p>
						<input type="text" class="form-control" id="conc3" name='formData' onchange='assignValue(this)'>
					</div>
				</div>
			</div>
			<div class="form-group col-sm-4">
				<label for="comment">Candidate Description:</label>
				<p id="commentText" name='previewData'></p>
				<textarea class="form-control" rows="11" id="comment" name='formData' onchange='$("#commentText").html(this.value)'></textarea>
			</div>
			<div class="col-sm-4">
				<br><br>
				<a href style="height: 20px;" class='well well-sm' id='resumeHref' name='previewData'></a>
				<br>
				<input name='formData' class="form-control" id="resume" placeholder='Resume URL' type="url" onchange="$('#resumeHref').html('Resume URL').attr('href',this.value);"/>
				<br>

				<a href style="height: 20px;" class='well well-sm' id='videoHref' name='previewData'></a>
				<br>
				<input name='formData' class="form-control" id="video" placeholder='Video URL' type="url" onchange="$('#videoHref').html('Video URL').attr('href',this.value);" />
				<br>

				<a href style="height: 20px;" class='well well-sm' id='inHref' name='previewData'></a>
				<br>
				<input name='formData' class="form-control" placeholder='Linkedin Profile Url' id="linkedin" type="url" onchange="$('#inHref').html('Linkedin Profile Url').attr('href',this.value);"  />
				<br>
			</div>
			<div id="editor"></div>
		</div>
		<br>
		<div class='row' style="text-align:center">
			<button type="button" name='formData' class="btn btn-success" onclick='previewForm()'>Preview & Save PDF</button>
			<br><br>
			<img id='load' src="load.gif" style='display:none;'/>
		</div>
		<div style="text-align:center;display:none" id='saveBack'>
			<button id='save' type="button" class="btn btn-success"><a id='downloadPDF' href="//pdfcrowd.com/url_to_pdf/?width=297mm&height=420mm&hmargin=2mm" style="color:white;" onclick='$("#saveBack").hide()'>Save to PDF</a></button>
			<button type="button" class="btn btn-success" id="back" >back</button>
			
		</div>
		<br>
		<div id='section-2' class='row' name='formData' style="display:none;">
			<form role="form">
				<div class="col-sm-12 alert alert-warning" id ="job" style="text-align:center">
					<!-- <p name='previewData'></p> -->
					<label style="color:black;">Email Eric Regarding:</label>
					<br>
					<button id='Schedule_Interview' class="btn btn-success" type="button"><a onclick="javascript:window.location='mailto:ERIC@GULFSTREAMSP.COM?Subject=SCHEDULE INTERVIEW: '+document.getElementById('Name').value" style="color:white;">Schedule Interview</a></button>
					<!-- <p name='previewData'></p> -->
					<button id='Present_again_in_30_days' class="btn btn-success" type="button"><a onclick="javascript:window.location='mailto:ERIC@GULFSTREAMSP.COM?Subject=PRESENT AGAIN IN 30 DAYS: '+document.getElementById('Name').value" style="color:white;">Present again in 30 days</a></button>	
					<!-- <p name='previewData'></p> -->
					<button id='Not_Interested' class="btn btn-success" type="button"><a onclick="javascript:window.location='mailto:ERIC@GULFSTREAMSP.COM?Subject=NOT INTERESTED: '+document.getElementById('Name').value" style="color:white;">Not Interested</a></button>
				</div>
			</form>
			<br><br>
			<div class="alert alert-danger text-center" id="Note">
				<strong>Note!</strong> Please don't forget to attach the PDF downloaded while sending mail.
			</div>
		</div>
	</div>
	<footer class="footer" name='formData'>
		<div class="container text-muted text-right">
			Form designed by Rebutton.Co (<a href="http://www.rebutton.co">www.rebutton.co</a>)
		</div>
	</footer>
</body>
</html>